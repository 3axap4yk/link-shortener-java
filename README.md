# Link Shortener (Сервис сокращения ссылок)

Консольное Java-приложение, позволяющее сокращать ссылки, управлять лимитом переходов, временем жизни и работать с несколькими пользователями по UUID.

## Возможности

- Создание коротких ссылок из длинных URL
- Проверка корректности URL
- Лимит переходов по ссылке
- Автоудаление ссылки после истечения времени жизни (1 час)
- Хранение данных между запусками (`links.json`)
- Несколько пользователей: идентификация по UUID
- Возможность переключаться на пользователя по UUID
- Редактирование лимита и удаление ссылки только владельцем
- Просмотр только своих ссылок

## Требования

- Java 17+
- Maven
- Библиотека Gson (есть в pom.xml)

## Команды меню

`1` - Создать короткую ссылку <br>
`2` - Перейти по короткой ссылке <br>
`3` - Показать список моих ссылок <br>
`4` - Изменить лимит переходов по ссылке <br>
`5` - Удалить ссылку <br>
`6` - Сменить пользователя (ввести UUID) <br>
`0` - Сохранить и выйти


## Пример работы

```
Текущий пользователь: 8ad7e0a8-e9e4-4150-b0e7-5e86d6c678a1
1. Создать ссылку
→ https://example.com
Лимит = 5
Короткая ссылка: a3c91f

2. Перейти по короткой ссылке
Код: a3c91f
(откроется браузер)

3. Показать мои ссылки
a3c91f → https://example.com | лимит: 5

4. Изменить лимит переходов по ссылке (доступно только владельцу)
Короткая ссылка: e936b6
Новый лимит: 3
Лимит обновлён.

5. Удалить ссылку (доступно только владельцу))
Код: e936b6
Ссылка удалена.

6. Сменить пользователя
Введите UUID: ddf0a78d-... (существующий)
Пользователь изменён. Ссылок: 1

0. Выход
Данные сохранены.
```

**Данные** о пользователях и ссылках хранятся в `links.json` <br>
Пример:
```json
{
  "77a2d652-2338-47bd-8d11-d911bf9db40c": {
    "id": "77a2d652-2338-47bd-8d11-d911bf9db40c",
    "links": [
      {
        "originalUrl": "https://skillfactory.ru",
        "shortCode": "2604e1",
        "clickLimit": 10,
        "createdAt": 1762703340939,
        "ttl": 3600000
      }
    ]
  }
}
```

## Тестирование
**Исчерпание лимита**
```bash
Текущий пользователь: 03d7fa79-886e-4757-8d90-50a04ee70897
1. Создать ссылку
2. Перейти по короткой ссылке
3. Показать мои ссылки
4. Изменить лимит ссылки
5. Удалить ссылку
6. Сменить пользователя (ввести UUID)
0. Выход
→ 1
Введите URL: https://gtfobins.github.io/
Введите лимит: 1
Короткая ссылка: 55b771

Текущий пользователь: 03d7fa79-886e-4757-8d90-50a04ee70897
1. Создать ссылку
2. Перейти по короткой ссылке
3. Показать мои ссылки
4. Изменить лимит ссылки
5. Удалить ссылку
6. Сменить пользователя (ввести UUID)
0. Выход
→ 2
Код: 55b771
Открываю: https://gtfobins.github.io/

Текущий пользователь: 03d7fa79-886e-4757-8d90-50a04ee70897
1. Создать ссылку
2. Перейти по короткой ссылке
3. Показать мои ссылки
4. Изменить лимит ссылки
5. Удалить ссылку
6. Сменить пользователя (ввести UUID)
0. Выход
→ 2
Код: 55b771
Лимит переходов исчерпан.
```
**Разные короткие ссылки при одинаковых оригинальных ссылках**
```bash
Текущий пользователь: cc51b202-10dd-45af-a022-cc31c583f267
1. Создать ссылку
2. Перейти по короткой ссылке
3. Показать мои ссылки
4. Изменить лимит ссылки
5. Удалить ссылку
6. Сменить пользователя (ввести UUID)
0. Выход
→ 1
Введите URL: https://gtfobins.github.io/
Введите лимит: 3
Короткая ссылка: 4bb088

Текущий пользователь: cc51b202-10dd-45af-a022-cc31c583f267
1. Создать ссылку
2. Перейти по короткой ссылке
3. Показать мои ссылки
4. Изменить лимит ссылки
5. Удалить ссылку
6. Сменить пользователя (ввести UUID)
0. Выход
→ 6
Введите UUID: cc51b202-10dd-45af-a022-cc31c583f268
Пользователь изменён. Кол-во ссылок пользователя: 0

Текущий пользователь: cc51b202-10dd-45af-a022-cc31c583f268
1. Создать ссылку
2. Перейти по короткой ссылке
3. Показать мои ссылки
4. Изменить лимит ссылки
5. Удалить ссылку
6. Сменить пользователя (ввести UUID)
0. Выход
→ 1
Введите URL: https://gtfobins.github.io/
Введите лимит: 3
Короткая ссылка: 3d8c05
```
**Проверка доступности ссылки, после истечения времени работы**
Уменьшим время до нескольких секунд
```bash
Текущий пользователь: 93fa6ba8-ca31-4d31-b849-82852f126f24
1. Создать ссылку
2. Перейти по короткой ссылке
3. Показать мои ссылки
4. Изменить лимит ссылки
5. Удалить ссылку
6. Сменить пользователя (ввести UUID)
0. Выход
→ 1
Введите URL: https://gtfobins.github.io/
Введите лимит: 3
Короткая ссылка: 6db92a

Текущий пользователь: 93fa6ba8-ca31-4d31-b849-82852f126f24
1. Создать ссылку
2. Перейти по короткой ссылке
3. Показать мои ссылки
4. Изменить лимит ссылки
5. Удалить ссылку
6. Сменить пользователя (ввести UUID)
0. Выход
→ 2
Код: 6db92a
Срок жизни ссылки истёк.
```
